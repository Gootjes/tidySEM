<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SEM graphing conventions • tidySEM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="SEM graphing conventions">
<meta property="og:description" content="tidySEM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidySEM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Generating_syntax.html">Generating syntax for structural equation models</a>
    </li>
    <li>
      <a href="../articles/Plotting_graphs.html">Plotting graphs for structural equation models</a>
    </li>
    <li>
      <a href="../articles/sem_graph.html">SEM graphing conventions</a>
    </li>
    <li>
      <a href="../articles/Tabulating_results.html">Tabulating results from structural equation models</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/cjvanlissa/tidySEM/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>SEM graphing conventions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/cjvanlissa/tidySEM/blob/master/vignettes/sem_graph.Rmd"><code>vignettes/sem_graph.Rmd</code></a></small>
      <div class="hidden name"><code>sem_graph.Rmd</code></div>

    </div>

    
    
<p>Structural equation modeling (SEM) uses some conventions to graph models visually. This vignette provides a brief introduction into the conventions of this visual language. This will help you understand the graphs generated by <code>tidySEM</code>, and generate your own SEM graphs in a way that others will understand.</p>
<p>First, let me introduce the visual elements of SEM graphs.</p>
<div id="nodes" class="section level2">
<h2 class="hasAnchor">
<a href="#nodes" class="anchor"></a>Nodes</h2>
<p>Nodes are the “shapes” in a graph. In SEM graphs, we use nodes to indicate variables.</p>
<div id="observed-variables" class="section level4">
<h4 class="hasAnchor">
<a href="#observed-variables" class="anchor"></a>Observed variables</h4>
<p>An observed variable is a measured quantity; you have “real data” about this variable. Usually, you will have a column for this variable in the spreadsheet with your raw data. Observed variables are also called measured variables or indicators. Visually, we indicate observed variables as rectangles:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span>(<span class="kw">layout</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="st">"x"</span>)) + <span class="fu">coord_fixed</span>()</pre></body></html></div>
<p><img src="var_obs.svg" width="20%"></p>
</div>
<div id="latent-variables" class="section level4">
<h4 class="hasAnchor">
<a href="#latent-variables" class="anchor"></a>Latent variables</h4>
<p>A latent variable is something that exists (according to your theory), but that you did not measure directly. There is no column in the data for this variable. Still, SEM allows us to model such latent variables. Latent variables are also called “unobserved” variables. Visually, we indicate them as ovals or circles:</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span>(<span class="kw">nodes</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">name</span> <span class="kw">=</span> <span class="st">"x"</span>, <span class="kw">shape</span> <span class="kw">=</span> <span class="st">"oval"</span>), <span class="kw">layout</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="st">"x"</span>), <span class="kw">fix_coord</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><img src="var_lat.svg" width="20%"></p>
</div>
</div>
<div id="edges" class="section level2">
<h2 class="hasAnchor">
<a href="#edges" class="anchor"></a>Edges</h2>
<p>Edges refer to the connections between nodes. In SEM graphs, we use edges to specify relationships between variables.</p>
<div id="regression-effects" class="section level4">
<h4 class="hasAnchor">
<a href="#regression-effects" class="anchor"></a>Regression effects</h4>
<p>A regression effect indicates that one variable has a causal effect on another variable. Note that the term “causal” reflects an assumption, not a conclusion. So if you specify a regression effect between <code>x</code> and <code>y</code>, you are effectively saying “I assume that <code>x</code> causes <code>y</code>”. Regression effects are also called “paths”, “directional effects”, and “factor loadings”. In SEM graphs, we represent regression effects as single-headed arrows:</p>
<p><img src="arrow.svg" width="20%"></p>
</div>
<div id="covariances" class="section level4">
<h4 class="hasAnchor">
<a href="#covariances" class="anchor"></a>Covariances</h4>
<p>If (you assume that) two variables are associated, but you have no causal theory about directional effects between them, then you can represent this association as a covariance. The term covariance might be somewhat unfamiliar, but a covariance is just an unstandardized correlation. Covariances will also be referred to as “correlations” (when a graph depicts standardized coefficients), “undirected associations”, or “unexplained associations”. Visually, we indicate covariances as curved (dashed) lines without arrowheads:</p>
<p><img src="curve.svg" width="20%"></p>
</div>
<div id="residual-variances" class="section level4">
<h4 class="hasAnchor">
<a href="#residual-variances" class="anchor"></a>(Residual) variances</h4>
<p>Variables often have a variance, and in SEM we can represent this variance as a double-headed arrow that points from a variable to itself. However, this is a simplification. When a variable is endogenous (on the receiving end of one or more causal effects), it gains an additional latent variable predictor known as an “error term”; a latent variable with a loading of 1 and a mean of 0. The variance of this error term represents the “error variance”, also known as “residual variance” or “unexplained variance”. In <code>tidySEM</code>, all error terms are omitted, and all variances (including error variances) are displayed as double-headed arrows. This is a stylistic decision. Error variances are displayed like this:</p>
<p><img src="error.svg" width="10%"></p>
</div>
</div>
<div id="basic-models" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-models" class="anchor"></a>Basic models</h2>
<p>Using these basic components, we can specify basic models. There are two basic models that SEM models are composed of: <em>path models</em> and <em>measurement models</em>.</p>
<div id="path-models" class="section level4">
<h4 class="hasAnchor">
<a href="#path-models" class="anchor"></a>Path models</h4>
<p>A path model specifies regression effects between two or more (observed) variables Let’s start with something very simple: Linear bivariate regression. I’m showing the code, so you can reproduce this example for yourself. In this model, the variable x predicts the variable y:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="no">iris</span>[, <span class="fl">1</span>:<span class="fl">2</span>]
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">df</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x"</span>, <span class="st">"y"</span>)
<span class="fu">sem</span>(<span class="st">"y ~ x"</span>, <span class="no">df</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span>(<span class="kw">spacing_x</span> <span class="kw">=</span> <span class="fl">2.5</span>, <span class="kw">fix_coord</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><img src="mod_reg.svg" width="50%"></p>
<p>In this graph, we see the observed variables <code>x</code> and <code>y</code> represented as rectangles. We see the regression effect represented as a single-headed arrow, and we see the variances represented as double-headed arrows. Note that the variance on the left is just the variance of the observed variable, whereas the variance on the right is actually the residual variance.</p>
</div>
<div id="measurement-model" class="section level4">
<h4 class="hasAnchor">
<a href="#measurement-model" class="anchor"></a>Measurement model</h4>
<p>As mentioned before, a latent variable is something that exists (according to your theory), but that you did not measure directly. Even if you did not measure a latent variable directly, SEM allows us define latent variables in terms of their theoretical effect on observed variables. In other words, we can specify that a latent variable exists, and that it causes some of the variance in our observed indicator variables. A model that defines a latent variable by reference to one or more observed indicators is known as a “measurement model”, or alternatively, as a “confirmatory factor analysis” (CFA) model. Here is an example:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="no">iris</span>[ , <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">3</span>:<span class="fl">4</span>)]
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">df</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"y_"</span>, <span class="fl">1</span>:<span class="fl">3</span>)

<span class="fu"><a href="../reference/tidy_sem.html">tidy_sem</a></span>(<span class="no">df</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/measurement.html">measurement</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/estimate_lavaan.html">estimate_lavaan</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span>()</pre></body></html></div>
<p><img src="mod_meas.svg" width="50%"></p>
<p>We see that the model defines a latent variable <code>y</code>, with mean fixed to <code>0</code> and variance fixed to <code>1</code>, which has a causal effect on the three indicators. The paths from the latent variable to the indicators are called <em>factor loadings</em>, and they are interpreted as regression coefficients. Thus: If you go up by one unit on the latent variable <code>y</code>, then you go up by <code>.71</code> units on <code>y_1</code>, and by <code>1.78</code> units on <code>y_2</code>, et cetera.</p>
</div>
</div>
<div id="structural-equation-models" class="section level2">
<h2 class="hasAnchor">
<a href="#structural-equation-models" class="anchor"></a>Structural equation models</h2>
<p>A structural equation model combines the path model and the measurement model. Thus, a structural equation model is a path model with some latent variables.</p>
<p>Here is a simple example:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">df</span> <span class="kw">&lt;-</span> <span class="no">iris</span>[ , <span class="fl">1</span>:<span class="fl">4</span>]
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">df</span>) <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"y_1"</span>, <span class="st">"x"</span>, <span class="st">"y_2"</span>, <span class="st">"y_3"</span>)

<span class="fu"><a href="../reference/tidy_sem.html">tidy_sem</a></span>(<span class="no">df</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/measurement.html">measurement</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/add_paths.html">add_paths</a></span>(<span class="no">y</span> ~ <span class="no">x</span>, <span class="no">x</span> ~~ <span class="no">x</span>, <span class="no">x</span> ~<span class="fl">1</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/estimate_lavaan.html">estimate_lavaan</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span>()</pre></body></html></div>
<p><img src="mod_sem1.svg" width="70%"></p>
<p>Instead of having an observed variable <code>x</code> predicting an observed variable <code>y</code>, we now have it predicting a latent variable <code>y</code>. This is one of the simplest possible structural equation models, but models of arbitrary complexity can be built using the same elements.</p>
<p>Incidentally, we can define a more pleasing layout for the model above using the <code><a href="../reference/get_layout.html">get_layout()</a></code> function:</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="../reference/tidy_sem.html">tidy_sem</a></span>(<span class="no">df</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/measurement.html">measurement</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/add_paths.html">add_paths</a></span>(<span class="no">y</span> ~ <span class="no">x</span>, <span class="no">x</span> ~~ <span class="no">x</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/estimate_lavaan.html">estimate_lavaan</a></span>() <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/graph_sem.html">graph_sem</a></span>(<span class="kw">layout</span> <span class="kw">=</span>
              <span class="fu"><a href="../reference/get_layout.html">get_layout</a></span>(<span class="st">""</span>,     <span class="st">"x"</span>,    <span class="st">""</span>,
                         <span class="st">""</span>,     <span class="st">"y"</span>,    <span class="st">""</span>,
                         <span class="st">"y_1"</span>, <span class="st">"y_2"</span>, <span class="st">"y_3"</span>, <span class="kw">rows</span> <span class="kw">=</span> <span class="fl">3</span>))</pre></body></html></div>
<p><img src="mod_sem2.svg" width="70%"></p>
<p>For more on customizing SEM graphs, see the <a href="https://cjvanlissa.github.io/tidySEM/articles/Plotting_graphs.html">vignette about making graphs</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Caspar J. van Lissa.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
