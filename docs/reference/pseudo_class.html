<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Estimate an Auxiliary Model using the Pseudo-Class Method — pseudo_class • tidySEM</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate an Auxiliary Model using the Pseudo-Class Method — pseudo_class"><meta property="og:description" content="Estimate an auxiliary model based on multiple datasets, randomly drawing
latent class values based on the estimated probability of belonging to each
class. The pseudo class variable is treated as an observed variable within
each dataset, and results are pooled across datasets to account for
classification uncertainty."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidySEM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Generating_syntax.html">Generating syntax for structural equation models</a>
    </li>
    <li>
      <a href="../articles/lca_confirmatory.html">Confirmatory LPA for the Caregiver Compass</a>
    </li>
    <li>
      <a href="../articles/lca_exploratory.html">Exploratory LPA for Ocean Microplastics</a>
    </li>
    <li>
      <a href="../articles/lca_lcga.html">Latent Class Growth Analysis</a>
    </li>
    <li>
      <a href="../articles/lca_ordinal.html">Latent Class Analysis for Ordinal Indicators</a>
    </li>
    <li>
      <a href="../articles/Plotting_graphs.html">Plotting graphs for structural equation models</a>
    </li>
    <li>
      <a href="../articles/sem_graph.html">SEM graphing conventions</a>
    </li>
    <li>
      <a href="../articles/SMART_LCA_checklist.html">SMART-LCA Checklist</a>
    </li>
    <li>
      <a href="../articles/Tabulating_results.html">Tabulating results from structural equation models</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/cjvanlissa/tidySEM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Estimate an Auxiliary Model using the Pseudo-Class Method</h1>
    <small class="dont-index">Source: <a href="https://github.com/cjvanlissa/tidySEM/blob/HEAD/R/mixture-pseudo_class.R" class="external-link"><code>R/mixture-pseudo_class.R</code></a></small>
    <div class="hidden name"><code>pseudo_class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Estimate an auxiliary model based on multiple datasets, randomly drawing
latent class values based on the estimated probability of belonging to each
class. The pseudo class variable is treated as an observed variable within
each dataset, and results are pooled across datasets to account for
classification uncertainty.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pseudo_class</span><span class="op">(</span><span class="va">x</span>, <span class="va">model</span>, df_complete <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'MxModel'</span></span>
<span><span class="fu">pseudo_class</span><span class="op">(</span><span class="va">x</span>, <span class="va">model</span>, df_complete <span class="op">=</span> <span class="cn">NULL</span>, data <span class="op">=</span> <span class="cn">NULL</span>, m <span class="op">=</span> <span class="fl">20</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object for which a method exists, typically either a fitted
<code>mx_mixture</code> model or <code>class_draws</code> object.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Either an expression to execute on every generated dataset,
or a function that performs the analysis on every generated dataset,
or a character that can be interpreted as a structural equation model using
<code><a href="as_ram.html">as_ram</a></code>. This <code>model</code> can explicitly refer to <code>data</code>.</p></dd>


<dt id="arg-df-complete">df_complete<a class="anchor" aria-label="anchor" href="#arg-df-complete"></a></dt>
<dd><p>Integer. Degrees of freedom of the complete-data analysis.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to other functions.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data.frame on which the auxiliary model can be evaluated. Note
that the row order must be identical to that of the data used to fit <code>x</code>,
as these data will be augmented with a pseudo-class draw for that specific
individual.</p></dd>


<dt id="arg-m">m<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>Integer. Number of datasets to generate. Default is 20.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An object of class <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></code> containing pooled
estimates.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Pseudo-class technique:
Wang C-P, Brown CH, Bandeen-Roche K (2005). Residual Diagnostics for Growth
Mixture Models: Examining the Impact of a Preventive Intervention on
Multiple Trajectories of Aggressive Behavior. Journal of the American
Statistical Association 100(3):1054-1076. <a href="https://doi.org/10.1198/016214505000000501" class="external-link">doi:10.1198/016214505000000501</a></p>
<p>Pooling results across samples:
Van Buuren, S. 2018. Flexible Imputation of Missing Data. Second Edition.
Boca Raton, FL: Chapman &amp; Hall/CRC. <a href="https://doi.org/10.1201/9780429492259" class="external-link">doi:10.1201/9780429492259</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">iris</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">50</span><span class="op">:</span><span class="fl">55</span>, <span class="fl">100</span><span class="op">:</span><span class="fl">105</span><span class="op">)</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SL"</span>, <span class="st">"SW"</span>, <span class="st">"PL"</span>, <span class="st">"PW"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="mx_profiles.html">mx_profiles</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dat</span>, classes <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running mix3 with 18 parameters</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Running mix3 with 18 parameters</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pct_mx</span> <span class="op">&lt;-</span> <span class="fu">pseudo_class</span><span class="op">(</span>x <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>                       model <span class="op">=</span> <span class="st">"SL ~ class"</span>,</span></span>
<span class="r-in"><span>                       data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>                       m <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The degrees of freedom are assumed to be equal to the total number of observations used in the model ( 17 ) minus the number of parameters estimated ( 5 ). This may not be correct. If necessary, provide a better value via the 'df_complete' argument</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pct_lm</span> <span class="op">&lt;-</span> <span class="fu">pseudo_class</span><span class="op">(</span>x <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>             model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span> <span class="va">SL</span> <span class="op">~</span> <span class="va">class</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>             data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>             m <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pcte</span> <span class="op">&lt;-</span> <span class="fu">pseudo_class</span><span class="op">(</span>x <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>                     model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">SL</span> <span class="op">~</span> <span class="va">class</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>                     m <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pct_func</span> <span class="op">&lt;-</span> <span class="fu">pseudo_class</span><span class="op">(</span>x <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>                         model <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">SL</span> <span class="op">~</span> <span class="va">class</span>, data <span class="op">=</span> <span class="va">data</span><span class="op">)</span><span class="op">}</span>,</span></span>
<span class="r-in"><span>                         data <span class="op">=</span> <span class="va">dat</span>,</span></span>
<span class="r-in"><span>                         m <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Caspar J. van Lissa.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

